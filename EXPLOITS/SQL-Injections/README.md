


# Summary:
- A sequel injection is when you have an application that uses a structured query language, database in the back end to hold information. 
- And you want to reach out and grab that. You'll typically have some sort of front end where everybody can put things in and say I would 
- like this information please return it to me. Then that front end passes that to the back end. The back end grabs it from the database. 
- Database swings back and then presents it to the front end and the front end presents it to you.


#     sql-injection-attacks.md
    Show Name: Pentest+ (PT0-002)
    Topic Name: Attacks and Exploits
    Episode Name: SQL Injection Attacks

================================================================================
SQL Injection Attacks
Objectives:

    Define SQL Injection and the common types of SQL Injection methods
    Demonstrate using SQL Injection attacks to access sensitive data
    List and demonstrate tools used to perform SQL Injection attacks

#NOTE:  Also, you need an injector. Something that would be treated by the web application as a 'special character' to make what you're getting 
# ready to say a part of that statement. Typically that's done with a single quote. I've seen some double quote stuff.

# Testing for SQLi
    -    Could be ' -- -  /  ' -- Dash Dash Space Dash or Dash Dash Space etc...
    -    Single-Quote
    -    Double-Quote
    -    Boolean (1=1 vs 1=2)
Example:
in line comment: ' OR 1 = 1

- An in line comments. So what I wanna do is say anything after this in your sequel statement on the back end just ignore that. I want you to 
- stop here. All right. So that might work.|| You might also see dash dash || There's also dash dash space dash. || " double quotes once in awhile


# Error-Based SQLi
- Error based sequal injections are easy because it tells us, you have injected SQL and there is an error. 
- so you are going to enumerate a back-end Database using just the web-appltions responses to SQL Quieries
#Ex:
 ' order by 1 -- -     / this is an SQL quiery we would want to lob over the the backend database (The dash dash space dash space is 
- unique to this example. That 'string' will be different with each database. Typically we will play with that string until we return 
- NO ERROR. meaning our quiery was good/allowed
- Only when I do something wrong, is it gonna complain? 
# I will continue with the 'single quote order by'( ' order by 1 ...) until I hit an error. 
Example Commands.
 'order by 8 -- -     # 'if I hit ordered by eights dash dash space dash. It's search you'll notice I now get an unknown column eight in 
- their order clause. So what I was doing is looking for how many columns are in this database order by one?'
- Well one is fine. We do have one order by two, right? Once I got outside of that realm it was like no that's a problem. There is no '8th column'

# So now that we know that we can label those columns so I know where they fall inside of the web application...
Example commands: 
  'union select by 1,2,3,4,5,6,7-- -    # So let me get down to the way union select. I'm gonna do 1234567. And they're just separated by commas no spaces and of course dash space dash and that should give us a actually show the number in the column where they land on the web pag

'union select by 1,user(),3,4,@@version,6,7-- -  #

'union select 1,table_name,3,4,5,6,7from information_schema.tables-- -   #

'union select 1,column_name,3,4,5,6,7from information_schema.columns where table_name='users'-- -   #

'union select 1,login,3,4,password,6.7from users-- -




# Blind-Based SQLi
   -  Blind-Boolean
-  we're gonna try a time based module to see if what we're doing is actually working. If it does work, it should wait x amount of time and 
- then return the results. And then we know if it did wait the time, that means it followed the command which is sequel, and I've injected 
- sequel successfully. 
Example Command:

'-sleep(1)-- -      # this should cause the page to hang for (x) 10 seconds in this case. This is because we are 'INJECTING' the sleep 
 # 			command into the SQL Quiery

   
   - Stacked Queries
- stacked queries in this type of attack. >> Yes, stacked queries are really cool because basically it's kind of doing a one liner, 
- where I've got one sequel query and I've got another sequel query. Well, I just wanna make them run at the same time right after 
- each other in succession, like a string of stuff to do. And just like in a one liner, in Bash or other languages, things like that, 
- I can use a semi column to string things together.

- Let's say, I'm searching for a movie, right? You throw a semi colon in there (at the beggining of the in line comemnt) and say, drop tables 
- or whatever, you start giving it. This would be bad for that action, cuz if I finish that out, do all the things you're supposed to do. 
- It will run the first command, which is find that movie, and then will drop all the tables and erasing them from the database, which is just
- no bueno. But you're just stacking them together. That's the idea of stacked queries.


   
   - SQLmap
- Sequel map is an automated tool that allows us to do sequel injection testing and subsequent dumping of database data from the ease of running 
- a tool instead of trying to work through an application. You just find where you think a good injection point is, slap it in the tool, give 
- it any other information that might need, and then fire the tool away and see if its list of different types of injections are usable against that area.


#NOTE: You need to encase ALL your flags in ' single quotes 

$ sqlmap -u 'example test' --cookie='example of cookie here; security_level=0' -dbs
